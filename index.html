<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta property="og:type" content="website">
<meta property="og:title" content="‚ùÑÔ∏è SMOKE KOSTA | –ó–∏–º–Ω–∏–π –ö–∞—Ç–∞–ª–æ–≥">
<meta property="og:description" content="–ü–µ—Ä–µ—Ö–æ–¥–∏ –≤ –Ω–∞—à –∫–∞—Ç–∞–ª–æ–≥ –∏–ª–∏ –∂–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç‚¨áÔ∏è">
<meta property="og:url" content="https://smokekatalog.netlify.app">
<meta property="og:image" content="https://sun9-79.userapi.com/s/v1/ig2/T2WIyVLcsRTNc1YanYPeWNiE7p_JVFJPGGGeEzKMYndlk6iQQkU3t1Equr-cfd3ZhWLamkqYvEncYSB_c8VwzcbY.jpg?quality=95&as=32x17,48x25,72x38,108x57,160x84,240x126,360x189,480x252,540x283,640x336,720x378,1080x567,1200x630&from=bu&cs=1200x0">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="‚ùÑÔ∏è SMOKE KOSTA | –ó–∏–º–Ω–∏–π –ö–∞—Ç–∞–ª–æ–≥">
<meta name="twitter:description" content="–ü–µ—Ä–µ—Ö–æ–¥–∏ –≤ –Ω–∞—à –∫–∞—Ç–∞–ª–æ–≥ –∏–ª–∏ –∂–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç‚¨áÔ∏è">
<meta name="twitter:image" content="https://sun9-79.userapi.com/s/v1/ig2/T2WIyVLcsRTNc1YanYPeWNiE7p_JVFJPGGGeEzKMYndlk6iQQkU3t1Equr-cfd3ZhWLamkqYvEncYSB_c8VwzcbY.jpg?quality=95&as=32x17,48x25,72x38,108x57,160x84,240x126,360x189,480x252,540x283,640x336,720x378,1080x567,1200x630&from=bu&cs=1200x0">

    <title>SMOKE KOSTA | –ó–∏–º–Ω–∏–π –ö–∞—Ç–∞–ª–æ–≥</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800;900&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="logot.png">
    
    <style>
        :root {
            --blue-accent: #00d4ff;
            --card-bg: #1e252b; 
            --flavor-bg: #2c343c;
            --text-color: #ffffff;
            --promo-color: #ff00d4;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: #0d1217;
            color: var(--text-color);
            min-height: 100vh;
            display: flex; flex-direction: column; align-items: center;
        }

        .container { width: 95%; max-width: 900px; padding: 40px 15px; text-align: center; }

        header h1 {
            font-size: clamp(2rem, 8vw, 3.2rem); font-weight: 900;
            color: var(--blue-accent); text-transform: uppercase;
            margin-bottom: 5px;
        }

        .catalog-item {
            background: var(--card-bg);
            border-radius: 28px;
            padding: 35px 20px;
            margin-bottom: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        .item-title { font-size: 2rem; font-weight: 900; color: var(--blue-accent); margin-bottom: 8px; }
        .specs { opacity: 0.6; font-weight: 600; margin-bottom: 20px; font-size: 1rem; }

        .price-row { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 30px; }
        .old-price { text-decoration: line-through; opacity: 0.4; font-size: 1.2rem; font-weight: 700; }
        .price-tag { 
            background: var(--blue-accent); color: #000; 
            padding: 8px 30px; border-radius: 12px; 
            font-weight: 900; font-size: 1.5rem; 
        }

        .flavor-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 12px; list-style: none; padding: 0;
        }

        .flavor-list li {
            background: var(--flavor-bg);
            padding: 18px 22px; border-radius: 12px;
            font-size: 1rem; font-weight: 700;
            cursor: pointer; transition: 0.2s;
            display: flex; align-items: center;
            border: 1px solid transparent;
        }

        .flavor-list li.selected {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--blue-accent);
        }

        .flavor-list li.out-of-stock { opacity: 0.2; cursor: not-allowed; filter: grayscale(1); }

        .promo-badge {
            background: var(--promo-color); color: white; padding: 5px 12px;
            border-radius: 6px; font-weight: 900; font-size: 0.75rem;
            position: absolute; top: 15px; right: 15px; text-decoration: none;
        }

        .stock-warning {
            color: var(--blue-accent);
            padding: 20px;
            margin: 10px 0;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .cta-button {
            display: inline-block;
            width: 100%;
            max-width: 400px;
            background: var(--blue-accent);
            color: #000;
            text-decoration: none;
            padding: 20px;
            margin: 10px 0 60px 0;
            border-radius: 16px;
            font-weight: 900;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.2);
        }

        .cta-button:active { transform: scale(0.97); }
        .snowflake { position: fixed; top: -10px; color: white; z-index: 0; pointer-events: none; }
        @media (max-width: 600px) { .flavor-list { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="container">
    <header data-aos="fade-down">
        <h1>SMOKE KOSTA</h1>
        <p style="opacity: 0.5; font-size: 0.7rem; letter-spacing: 3px; font-weight: 700; margin-bottom: 30px;">–ó–ò–ú–ù–ò–ô –ö–ê–¢–ê–õ–û–ì</p>
    </header>

    <div id="catalog-container"></div>

    <div class="stock-warning" data-aos="fade-up">
        ‚ö°Ô∏è –í–∫—É—Å—ã —Ä–∞–∑–±–∏—Ä–∞—é—Ç –±—ã—Å—Ç—Ä–æ ‚Äî —É—Å–ø–µ–π –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π üí®
    </div>

    <a href="https://t.me/smokemanagerQST" id="orderBtn" class="cta-button" data-aos="fade-up">
        üì≤ –ó–∞–∫–∞–∑–∞—Ç—å –≤ Telegram
    </a>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    let cart = [];
    
// –ú—è–≥–∫–∏–π, "—Å–æ—á–Ω—ã–π" –∑–≤—É–∫ –∫–ª–∏–∫–∞ (–∫–∞–∫ –≤ –∫—Ä—É—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö)
    const clickSound = new Audio("https://www.soundjay.com/communication/sounds/digital-u-02.mp3");
    clickSound.volume = 0.01; // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –±–∏–ª–æ –ø–æ —É—à–∞–º

    async function init() {
        try {
            const res = await fetch('products.json');
            const data = await res.json();
            render(data);
            AOS.init({ duration: 800, once: true, offset: 50 });
        } catch (e) { console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON", e); }
    }

    function render(products) {
        const root = document.getElementById('catalog-container');
        root.innerHTML = products.map(p => {
            const hasF = p.flavors && p.flavors.length > 0;
            return `
                <div class="catalog-item" data-aos="fade-up">
                    ${p.promo ? `<a href="${p.promoLink}" class="promo-badge">${p.promo}</a>` : ''}
                    <div class="item-title">${p.name}</div>
                    <div class="specs">${p.specs}</div>
                    <div class="price-row">
                        ${p.oldPrice ? `<div class="old-price">${p.oldPrice} —Ç–≥</div>` : ''}
                        <div class="price-tag">${p.price} —Ç–≥</div>
                    </div>
                    ${hasF ? `
                        <ul class="flavor-list">
                            ${p.flavors.map(f => `
                                <li class="${f.stock ? '' : 'out-of-stock'}" 
                                    onclick="pick('${p.name}', '${f.name}', this, ${f.stock})">
                                    ${f.name} ${f.stock ? '' : ' (–ù–µ—Ç)'}
                                </li>
                            `).join('')}
                        </ul>
                    ` : `
                        <div style="padding: 20px; background: rgba(0,0,0,0.2); border-radius: 15px; opacity: 0.5; font-size: 0.9rem;">
                            ‚ö†Ô∏è –í–∫—É—Å—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
                        </div>
                    `}
                </div>
            `;
        }).join('');
    }

    function pick(pName, fName, el, stock) {
        if (!stock) return;
        
        // –í–û–°–ü–†–û–ò–ó–í–û–î–ò–ú –ó–í–£–ö
        clickSound.currentTime = 0; // –°–±—Ä–æ—Å –≤ –Ω–∞—á–∞–ª–æ, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∫–ª–∏–∫–∞—Ç—å –±—ã—Å—Ç—Ä–æ
        clickSound.play().catch(() => {}); // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–≤—É–∫ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞

        const id = `${pName} (${fName})`;
        el.classList.toggle('selected');
        
        if (el.classList.contains('selected')) { cart.push(id); } 
        else { cart = cart.filter(i => i !== id); }
        
        const btn = document.getElementById('orderBtn');
        if (cart.length > 0) {
            const txt = encodeURIComponent("–ü—Ä–∏–≤–µ—Ç! –ó–∞–∫–∞–∑:\n" + cart.map(i => "‚Äî " + i).join("\n") + "\n\n–ê–¥—Ä–µ—Å: ");
            btn.href = `https://t.me/smokemanagerQST?text=${txt}`;
            btn.innerText = `–í–´–ë–†–ê–ù–û: ${cart.length} | –ó–ê–ö–ê–ó–ê–¢–¨`;
        } else {
            btn.href = "https://t.me/smokemanagerQST";
            btn.innerText = "üì≤ –ó–∞–∫–∞–∑–∞—Ç—å –≤ Telegram";
        }
        if (navigator.vibrate) navigator.vibrate(20);
    }

    init();

    setInterval(() => {
        const s = document.createElement('div');
        s.className = 'snowflake'; s.innerHTML = '‚ùÑ';
        s.style.left = Math.random() * 100 + 'vw';
        s.style.opacity = Math.random() * 0.4;
        document.body.appendChild(s);
        s.animate([{transform:'translateY(-10px)'},{transform:'translateY(110vh)'}], {duration: 6000}).onfinish = () => s.remove();
    }, 500);
</script>
</body>
</html>